2010-05-20  Justin Davis  <juster@cpan.org>

	* lib/CPANPLUS/Dist/Arch.pm (set_tt_module): Add new method.  This
	can also be a class method.

2010-05-18  Justin Davis  <juster@cpan.org>

	* RELEASE (1.01)

	* lib/CPANPLUS/Dist/Arch.pm (_process_template): [Bugfix] When
	using internal template engine the [%-'s and -%]'s would not be
	recognized.  When I added the -'s I forgot to change the code.
	Reported by IsaacG

2010-05-11  Justin Davis  <juster@cpan.org>

	* RELEASE (1.00): Uploaded to CPAN.

	* lib/CPANPLUS/Dist/Arch.pm (dist_pkgname): Changed the mapping of
	CPAN dist names to package names:
	  - Prefix the package name with 'perl-' even if it ends with '-perl'.
	  - The only time to not prefix the package with 'perl-' is if it
	    already starts with 'perl-'.
	  - Special case: the 'perl' dist name maps to the 'perl' package.

2010-05-10  Justin Davis  <juster@cpan.org>

	* lib/CPANPLUS/Dist/Arch.pm: The PKGBUILD template has been
	changed.  We now more eloquently override environment
	variables (i.e. PERL_MM_OPT, PERL_MB_OPT) in order to assure
	their values don't affect our package building.

2010-04-28  Justin Davis  <juster@cpan.org>

	* lib/CPANPLUS/Dist/Arch.pm: Add POST_CHOMP (-%]) tags to PKGBUILD
	template to remove extra whitespace.

2010-04-17  Justin Davis  <juster@cpan.org>

	* script/cpan2aur (update_if_old): Fix bug where we were comparing
	the module version and not the module's package version.

	* lib/CPANPLUS/Dist/Arch.pm: Fix bug where installing packages
	from the AUR runs Module::AutoInstall inside the PKGBUILD.
	Module::AutoInstall installed packages while running _inside_ the
	PKGBUILD.  Maybe all AUR packages created by cpan2aur who used
	Module::Install were broken!  Reported by Xenoterracide

2010-04-13  Justin Davis  <juster@cpan.org>

	* lib/CPANPLUS/Dist/Arch.pm (create): Fix bug where I assumed
	makepkg creates a .pkg.tar.gz.  Nowadays makepkg creates
	.pkg.tar.xz files (but it may still create .pkg.tar.gz if the user
	tells it to in /etc/makepkg.conf... right?)

2010-04-11  Justin Davis  <juster@cpan.org>

	* lib/CPANPLUS/Dist/Arch.pm (get_pkgbuild): Fix bug where
	exclaimation marks (!) in pkgdesc are displayed with the leading
	quoting backslash (\).  Turns out quoting exclaimation marks with
	backslashes doesn't work in bash.  We use "..."'!'"..." instead!

2010-04-08  Justin Davis  <juster@cpan.org>

	* lib/CPANPLUS/Dist/Arch.pm (get_tt_module): Added new method.

2010-03-22  Justin Davis  <juster@cpan.org>

	* lib/CPANPLUS/Dist/Arch.pm (_metayml_pkgdesc): Fix bug where the
	abstract description inside the META.yml was left to its default
	entry by a lazy module author.  This caused the pkgdesc to be:
	Module abstract (<= 44 characters) goes here
	Reported by Xenoterracide

2010-03-03  Justin Davis  <juster@cpan.org>

	* lib/CPANPLUS/Dist/Arch.pm (_prepare_pkgdesc): Fix bug where
	pkgdesc is blank when the .pm/.pod file is in a non-standard
	location.  We now search more places for the files.
	Reported by Xenoterracide

2010-02-21  Justin Davis  <juster@cpan.org>

	* lib/CPANPLUS/Dist/Arch.pm (_shell_expand): Created helper
	function for reading PKGDEST from /etc/makepkg.conf entries.
	Fixed bug when PKGDEST in makepkg.conf contains environment
	variables or tildes that need shell expansion.
	Reported by Isaac Good
	(_prepare_pkgdesc): Fix bug where META.yml contains double-quoted
	text (not-single quotes) in the pkgdesc.  These double quotes
	would not be removed and show up in the pkgdesc.

2010-02-18  Justin Davis  <juster@cpan.org>

	* lib/CPANPLUS/Dist/Arch.pm (get_pkgname): Added method.
	(get_pkgver): Added method.
	(get_pkgrel): Added method.
	(set_pkgrel): Added method.
	(get_pkgvars): Added 'pkgrel' as a new template variable.

2010-02-17  Justin Davis  <juster@cpan.org>

	* script/cpan2aur (confirm_overwrite): Fixed bug where the
	overwrite confirmation prompt answered yes no matter what.
	Reported by Xenoterracide.

2010-02-14  Justin Davis  <juster@cpan.org>

	* 0.17 (RELEASE)

	* lib/CPANPLUS/Dist/Arch.pm (create): Added the 'quiet' and
	'verbose' dist options.
	(create): Fixed bug where we chdir to create a package and do not
	chdir back.  Messed up calling programs cwd.

2010-02-03  Justin Davis  <juster@cpan.org>

	* lib/CPANPLUS/Dist/Arch.pm (create): We are now verbose by
	default so people don't think we are hanging.

	* script/cpan2aur:  Heavily updated cpan2aur.  We can now create
	templates for AUR packages that need customization.  Then you only
	need to generate a package from the template.  We can also upload
	to the AUR easily from the command line.

2010-01-26  Justin Davis  <jrcd83@gmail.com>

	* lib/CPANPLUS/Dist/Arch.pm (create): Dependencies of modules are
	now installed as implicit packages.
	(_prepare_pkgdesc): Fixed bug where descriptions were "~".

2010-01-08  Justin Davis  <jrcd83@gmail.com>

	* 0.16 (RELEASE)

	* script/cpan2aur: Now we can also create a source package
	directory for tweaking the PKGBUILD and then running makepkg.

	* lib/CPANPLUS/Dist/Arch.pm (_translate_xs_deps): Fixed bug
	with detecting XS deps for Module::Build distributions.
	It never seemed to work right anyways, and would sometimes
	cause a fatal error.
	Reported by Xenoterracide

2010-01-07  Justin Davis  <jrcd83@gmail.com>

	* lib/CPANPLUS/Dist/Arch.pm (dist_pkgver): Fixed bug where
	underscores in developer releases were not preserved as they
	were supposed to be.
	Reported by Xenoterracide

2010-01-02  Justin Davis  <jrcd83@gmail.com>

	* 0.15 (RELEASE)

	* lib/CPANPLUS/Dist/Arch.pm (create): Fixed bug where I broke
	skiptest handling when creating the PKGBUILD.
	(create_pkgbuild): Added optional argument for skipping tests in
	PKGBUILD.
	(get_pkgbuild): Same as create_pkgbuild.

2009-12-12  Justin Davis  <jrcd83@gmail.com>

	* 0.14 (RELEASE)

	* lib/CPANPLUS/Dist/Arch.pm (get_cpandistdir): Fixed bug caused by
	distributions having letters in their filenames.  The extracted
	directory did not have the trailing letter.  Now we use the
	distribution directory name previously stored by CPANPLUS.

	* lib/CPANPLUS/Dist/Arch.pm (dist_pkgver): Fixed bug with letters
	in package versions.  Letters are removed because makepkg cannot
	compare versions with letters properly.  Underscores are now only
	allowed at the end of the version; for developer releases.

2009-12-02  Justin Davis  <jrcd83@gmail.com>

	* 0.13 (RELEASE)

	* lib/CPANPLUS/Dist/Arch.pm (create): Fixed a bug caused when
	PKGDEST environment variable was used.  Fixed a bug when yaourt is
	trying to run ./Build in a /tmp mounted with the noexec option.
	Thanks to "xenoterracide" for pointing this out on the AUR; which
	led me to the even worse PKGDEST bug.

	* lib/CPANPLUS/Dist/Arch.pm (get_pkgpath): Added new method.

	* t/02-build.t: Checks for online connectivity and deletes
	the test package after it is created.

	* ChangeLog: Switched to the emacs style changelog since...
	I use emacs.

Revision history for CPANPLUS-Dist-Arch

0.12    October 29, 2009
        Fixed bugs when searching for XS packages.
        Fixed a regexp bug when escaping bash characters in pkgdesc.
        Changed the automatic perl dependency to not have a version.

0.11    June 9, 2009
        I added List::MoreUtils in the last release, thought it was a
        core module, and forgot to add it to the Build.PL.  So I just
        removed use of "uniq" now.

0.10    May 28, 2009
        Fixed trivial bug with Maintainer in PKGBUILD having a newline.

0.09    May 27, 2009
        Added many package name overrides from the Arch website.
        Removed use of Readonly, now we only need core modules.
        Now searches for non-perl dependencies as well! (ie for XS modules)
        Tweaked PKGBUILD again.

0.08    May 11, 2009
        Added a public method interface to the CPANPLUS::Dist::Arch class.
        Added example script "cpanpkgbuild.pl" and binary script "cpan2aur".
        Changed PKGBUILD template slightly as suggested by smb.

        (I accidentally used the Makefile.PL for this version instead
         of Build.PL!  So META.yml got screwed up.  I also forgot to
         update this file.)

0.07    April 12, 2009
        Fixed the typo bug in last version.  Added a build test so I'll catch this faster.
        Now searches the main module's .pm and .pod files for the pkgdesc as well,
        using Pod::Select.
        Now running as root will work, also useful for nested fakeroot environments...

0.06    April 05, 2009
        Added the setupdistarch script to easily enable/disable CPANPLUS packaging.
        I broke this version with a typo!  Luckily no one suspects anything.

0.05    March 23, 2009
        Inserted missing /CPAN/ text for the PKGBUILD's srcurl variable,
        Added tests for _translate_name & _translate_version.

0.04    March 22, 2009
        Fixed CPAN version numbers which don't conform to Archlinux standards.
        Stopped using the version module for prefixing everything with v, why!!
        Fixed typos, some inefficient code, etc...

0.03    March 21, 2009
        Included missing file Arch.pod in MANIFEST.
        Fixed some typos in README and Arch.pod.

0.02    March 21, 2009
        Fixed some bugs, separated docs to pod file.

0.01    March 20, 2009
        First version, uploaded to CPAN.
